<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Encoded Writing Translator</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #111;
    color: white;
    text-align: center;
    padding: 30px;
}
textarea {
    width: 90%;
    height: 120px;
    margin: 10px;
    padding: 10px;
    font-size: 16px;
}
button {
    padding: 10px 20px;
    margin: 10px;
    font-size: 16px;
    cursor: pointer;
}
</style>
</head>
<body>

<h2>Encoded Writing Translator</h2>

<textarea id="input" placeholder="Enter text here..."></textarea><br>

<button onclick="encode()">Translate to Code</button>
<button onclick="decode()">Translate to English</button>
<button onclick="copyOutput()">Copy Output</button>

<textarea id="output" placeholder="Result appears here..."></textarea>

<script>
const DEG = "Â°";
const TIL = "~";

const letterToCode = {
    a:"1", b:"2", c:"3", d:"4", e:"5", f:"6", g:"7", h:"8", i:"9",
    j:"1"+DEG, k:"2"+DEG, l:"3"+DEG, m:"4"+DEG, n:"5"+DEG,
    o:"6"+DEG, p:"7"+DEG, q:"8"+DEG, r:"9"+DEG,
    s:"1"+TIL, t:"2"+TIL, u:"3"+TIL, v:"4"+TIL,
    w:"5"+TIL, x:"6"+TIL, y:"7"+TIL, z:"8"+TIL
};

const codeToLetter = {};
for (let key in letterToCode) {
    codeToLetter[letterToCode[key]] = key;
}

function encode() {
    let text = document.getElementById("input").value;
    let result = "";

    for (let char of text) {
        if (char === " ") {
            result += "-";
        } else {
            let lower = char.toLowerCase();
            if (letterToCode[lower]) {
                result += letterToCode[lower] + " ";
            } else {
                result += char;
            }
        }
    }

    document.getElementById("output").value = result.trim();
}

function decode() {
    let text = document.getElementById("input").value;
    let tokens = text.split(" ");
    let result = "";

    for (let token of tokens) {
        if (token === "-") {
            result += " ";
        } else if (codeToLetter[token]) {
            result += codeToLetter[token];
        } else {
            result += token;
        }
    }

    document.getElementById("output").value = result;
}

function copyOutput() {
    let output = document.getElementById("output");
    output.select();
    document.execCommand("copy");
    alert("Copied!");
}
</script>

</body>
</html>
